/api/device-booking:
    post:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Tạo yêu cầu đăng ký thiết bị
        security:
            - bearerAuth: []
        requestBody:
            required: true
            content:
                application/json:
                    schema:
                        type: object
                        required:
                            - deviceId
                            - codeBA
                            - nameBA
                            - usageTime
                            - usageDay
                            - priority
                            - purpose
                        properties:
                            deviceId:
                                type: string
                                description: ID thiết bị
                            codeBA:
                                type: string
                                description: Mã bệnh án
                            nameBA:
                                type: string
                                description: Tên bệnh án
                            usageTime:
                                type: string
                                description: Thời gian sử dụng
                            usageDay:
                                type: string
                                format: date
                                description: Ngày sử dụng
                            priority:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Mức độ ưu tiên
                            purpose:
                                type: string
                                description: Mục đích sử dụng
        responses:
            '201':
                description: Tạo yêu cầu thành công
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: object
                                    properties:
                                        booking:
                                            type: object
                                            properties:
                                                device:
                                                    type: string
                                                user:
                                                    type: string
                                                codeBA:
                                                    type: string
                                                nameBA:
                                                    type: string
                                                usageTime:
                                                    type: string
                                                usageDay:
                                                    type: string
                                                priority:
                                                    type: string
                                                purpose:
                                                    type: string
                                                status:
                                                    type: string
                                                note:
                                                    type: string
            '404':
                description: User or Device not found
            '500':
                description: Unexpected error occurred
    get:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Lấy danh sách đơn đăng ký thiết bị
        security:
            - bearerAuth: []
        responses:
            '200':
                description: Bookings retrieved successfully
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: array
                                    items:
                                        type: object
                                        properties:
                                            device:
                                                type: object
                                                properties:
                                                    name:
                                                        type: string
                                                    location:
                                                        type: string
                                            user:
                                                type: object
                                                properties:
                                                    name:
                                                        type: string
                                                    email:
                                                        type: string
                                            codeBA:
                                                type: string
                                            nameBA:
                                                type: string
                                            usageTime:
                                                type: string
                                            usageDay:
                                                type: string
                                            priority:
                                                type: string
                                            purpose:
                                                type: string
                                            status:
                                                type: string
                                            note:
                                                type: string
            '500':
                description: Unexpected error occurred

/api/device-booking/{bookingID}/change-status:
    put:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Duyệt yêu cầu đăng ký thiết bị
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: bookingID
              required: true
              schema:
                  type: string
              description: ID yêu cầu đăng ký thiết bị
        requestBody:
            required: true
            content:
                application/json:
                    schema:
                        type: object
                        required:
                            - status
                        properties:
                            status:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Trạng thái duyệt
                            note:
                                type: string
                                description: Ghi chú
        responses:
            '200':
                description: Booking processed successfully
            '404':
                description: Booking not found
            '500':
                description: Unexpected error occurred

/api/device-booking/{bookingID}/accept-edit:
    post:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Duyệt chỉnh sửa yêu cầu đặt thiết bị
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: bookingID
              required: true
              schema:
                  type: string
              description: ID yêu cầu đặt thiết bị
        requestBody:
            required: true
            content:
                application/json:
                    schema:
                        type: object
                        required:
                            - status
                        properties:
                            codeBA:
                                type: string
                                description: Mã bệnh án
                            nameBA:
                                type: string
                                description: Tên bệnh án
                            usageTime:
                                type: string
                                description: Thời gian sử dụng
                            usageDay:
                                type: string
                                format: date
                                description: Ngày sử dụng
                            priority:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Mức độ ưu tiên
                            purpose:
                                type: string
                                description: Mục đích sử dụng
                            status:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Trạng thái duyệt
                            note:
                                type: string
                                description: Ghi chú
        responses:
            '200':
                description: Duyệt chỉnh sửa thành công
            '404':
                description: Không tìm thấy yêu cầu hoặc đã được xử lý
            '500':
                description: Unexpected error occurred

/api/device-booking/devices/{deviceId}:
    get:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Danh sách các đơn đăng ký của thiết bị
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: deviceId
              required: true
              schema:
                  type: string
              description: ID thiết bị
        responses:
            '200':
                description: Lấy thông tin thành công
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: object
                                    properties:
                                        device:
                                            type: object
                                            properties:
                                                name:
                                                    type: string
                                                location:
                                                    type: string
                                        bookings:
                                            type: array
                                            items:
                                                type: object
                                                properties:
                                                    user:
                                                        type: object
                                                        properties:
                                                            name:
                                                                type: string
                                                            email:
                                                                type: string
                                                    codeBA:
                                                        type: string
                                                    nameBA:
                                                        type: string
                                                    usageTime:
                                                        type: string
                                                    usageDay:
                                                        type: string
                                                    priority:
                                                        type: string
                                                    purpose:
                                                        type: string
                                                    status:
                                                        type: string
                                                    note:
                                                        type: string
            '404':
                description: Không tìm thấy thiết bị
            '500':
                description: Unexpected error occurred

/api/device-booking/users/{userId}:
    get:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Lịch sử đăng ký thiết bị của người dùng
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: userId
              required: true
              schema:
                  type: string
              description: ID người dùng
        responses:
            '200':
                description: Lấy lịch sử thành công
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: array
                                    items:
                                        type: object
                                        properties:
                                            device:
                                                type: object
                                                properties:
                                                    name:
                                                        type: string
                                                    location:
                                                        type: string
                                            codeBA:
                                                type: string
                                            nameBA:
                                                type: string
                                            usageTime:
                                                type: string
                                            usageDay:
                                                type: string
                                            priority:
                                                type: string
                                            purpose:
                                                type: string
                                            status:
                                                type: string
                                            note:
                                                type: string
            '500':
                description: Server error
