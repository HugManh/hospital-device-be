/api/device-booking:
    post:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Tạo yêu cầu đặt thiết bị mới
        security:
            - bearerAuth: []
        requestBody:
            required: true
            content:
                application/json:
                    schema:
                        type: object
                        required:
                            - deviceID
                            - userID
                            - codeBA
                            - nameBA
                            - usageTime
                            - usageDay
                            - priority
                            - purpose
                        properties:
                            deviceID:
                                type: string
                                description: ID thiết bị
                            userID:
                                type: string
                                description: ID người dùng
                            codeBA:
                                type: string
                                description: Mã bệnh án
                            nameBA:
                                type: string
                                description: Tên bệnh án
                            usageTime:
                                type: string
                                description: Thời gian sử dụng
                            usageDay:
                                type: string
                                format: date
                                description: Ngày sử dụng
                            priority:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Mức độ ưu tiên
                            purpose:
                                type: string
                                description: Mục đích sử dụng
                            note:
                                type: string
                                description: Ghi chú (không bắt buộc)
        responses:
            '201':
                description: Tạo yêu cầu thành công
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: object
                                    properties:
                                        booking:
                                            type: object
                                            properties:
                                                device:
                                                    type: string
                                                user:
                                                    type: string
                                                codeBA:
                                                    type: string
                                                nameBA:
                                                    type: string
                                                usageTime:
                                                    type: string
                                                usageDay:
                                                    type: string
                                                priority:
                                                    type: string
                                                purpose:
                                                    type: string
                                                status:
                                                    type: string
                                                note:
                                                    type: string
            '404':
                description: Không tìm thấy thiết bị hoặc người dùng
            '500':
                description: Lỗi máy chủ
    get:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Lấy danh sách đặt thiết bị
        security:
            - bearerAuth: []
        responses:
            '200':
                description: Lấy danh sách thành công
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: array
                                    items:
                                        type: object
                                        properties:
                                            device:
                                                type: object
                                                properties:
                                                    name:
                                                        type: string
                                                    location:
                                                        type: string
                                            user:
                                                type: object
                                                properties:
                                                    name:
                                                        type: string
                                                    email:
                                                        type: string
                                            codeBA:
                                                type: string
                                            nameBA:
                                                type: string
                                            usageTime:
                                                type: string
                                            usageDay:
                                                type: string
                                            priority:
                                                type: string
                                            purpose:
                                                type: string
                                            status:
                                                type: string
                                            note:
                                                type: string
            '500':
                description: Lỗi máy chủ

/api/device-booking/{bookingID}/change-status:
    put:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Duyệt yêu cầu đặt thiết bị
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: bookingID
              required: true
              schema:
                  type: string
              description: ID yêu cầu đặt thiết bị
        requestBody:
            required: true
            content:
                application/json:
                    schema:
                        type: object
                        required:
                            - status
                        properties:
                            status:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Trạng thái duyệt
                            note:
                                type: string
                                description: Ghi chú
        responses:
            '200':
                description: Duyệt yêu cầu thành công
            '404':
                description: Không tìm thấy yêu cầu hoặc đã được xử lý
            '500':
                description: Lỗi máy chủ

/api/device-booking/{bookingID}/accept-edit:
    post:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Duyệt chỉnh sửa yêu cầu đặt thiết bị
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: bookingID
              required: true
              schema:
                  type: string
              description: ID yêu cầu đặt thiết bị
        requestBody:
            required: true
            content:
                application/json:
                    schema:
                        type: object
                        required:
                            - status
                        properties:
                            codeBA:
                                type: string
                                description: Mã bệnh án
                            nameBA:
                                type: string
                                description: Tên bệnh án
                            usageTime:
                                type: string
                                description: Thời gian sử dụng
                            usageDay:
                                type: string
                                format: date
                                description: Ngày sử dụng
                            priority:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Mức độ ưu tiên
                            purpose:
                                type: string
                                description: Mục đích sử dụng
                            status:
                                type: string
                                enum: ['Ưu tiên', 'Bình thường']
                                description: Trạng thái duyệt
                            note:
                                type: string
                                description: Ghi chú
        responses:
            '200':
                description: Duyệt chỉnh sửa thành công
            '404':
                description: Không tìm thấy yêu cầu hoặc đã được xử lý
            '500':
                description: Lỗi máy chủ

/api/device-booking/devices/{deviceID}:
    get:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Lấy thông tin thiết bị và lịch sử đặt
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: deviceID
              required: true
              schema:
                  type: string
              description: ID thiết bị
        responses:
            '200':
                description: Lấy thông tin thành công
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: object
                                    properties:
                                        device:
                                            type: object
                                            properties:
                                                name:
                                                    type: string
                                                location:
                                                    type: string
                                        bookings:
                                            type: array
                                            items:
                                                type: object
                                                properties:
                                                    user:
                                                        type: object
                                                        properties:
                                                            name:
                                                                type: string
                                                            email:
                                                                type: string
                                                    codeBA:
                                                        type: string
                                                    nameBA:
                                                        type: string
                                                    usageTime:
                                                        type: string
                                                    usageDay:
                                                        type: string
                                                    priority:
                                                        type: string
                                                    purpose:
                                                        type: string
                                                    status:
                                                        type: string
                                                    note:
                                                        type: string
            '404':
                description: Không tìm thấy thiết bị
            '500':
                description: Lỗi máy chủ

/api/device-booking/users/{userID}:
    get:
        tags:
            - Quản Lý Đặt Thiết Bị
        summary: Lấy lịch sử đặt thiết bị của người dùng
        security:
            - bearerAuth: []
        parameters:
            - in: path
              name: userID
              required: true
              schema:
                  type: string
              description: ID người dùng
        responses:
            '200':
                description: Lấy lịch sử thành công
                content:
                    application/json:
                        schema:
                            type: object
                            properties:
                                success:
                                    type: boolean
                                message:
                                    type: string
                                data:
                                    type: array
                                    items:
                                        type: object
                                        properties:
                                            device:
                                                type: object
                                                properties:
                                                    name:
                                                        type: string
                                                    location:
                                                        type: string
                                            codeBA:
                                                type: string
                                            nameBA:
                                                type: string
                                            usageTime:
                                                type: string
                                            usageDay:
                                                type: string
                                            priority:
                                                type: string
                                            purpose:
                                                type: string
                                            status:
                                                type: string
                                            note:
                                                type: string
            '500':
                description: Server error
